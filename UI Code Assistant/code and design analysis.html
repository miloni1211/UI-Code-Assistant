<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Code Analysis</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <!-- Navigation Bar with Bootstrap -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="index.html">
                 <!-- Replace with your logo path -->
                 UI/UX Genie
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="codegen.html">Code Generator</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="code and design analysis.html">UI Design Analysis<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           Explore more Features
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="responsive.html">Responsive Test</a>
                            <a class="dropdown-item" href="compcheck.html">Cross-browser Compatibility</a>
                            <a class="dropdown-item" href="colorscheme.html">Color Scheme Guide</a>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="typing-content">
                <div class="typing-controls">
                    <span id="theme-btn" class="material-symbols-rounded" style="margin-right: 10px; position: relative">dark_mode</span>
                </div>
            </div>
        </nav>
    </header>
   
    <div class="container mt-4">
        <h2>UI Design Analysis</h2>
        <p>Enter your code and upload your UI image to receive tailored suggestions from UI/UX Genie.</p>
        <div class="row">
            <div class="col-md-6">
               
                <h5>Code Input</h5>
                <textarea id="codeInput" class="form-control" rows="10" placeholder="Paste your UI code here..."></textarea>
                <br>
                <br>
                
                <div class="mt-3">
                    <h5>Upload an image of the UI design</h5>
                    <label for="imageInput">Upload Image:</label>
                    <input type="file" id="imageInput" accept="image/*" required>
                </div>
                <button id="analyzeBtn" class="btn btn-primary mt-3">Analyze</button>
            </div>
            <div class="col-md-6">
                <h5>Analysis & Suggestions</h5>
                <div id="analysisOutput" class="border p-3" style="height: 160px; overflow-y: auto;">
                </div>
                
                <div class="mt-3">
                    <h5>Improved code</h5>
                    
                    <pre id="newCode" class="border p-3" style="height: 160px; overflow-y: auto;"></pre>

                   
                </div>
                <button id="copy-code" class="btn btn-secondary" data-clipboard-target="#newCode">Copy Code</button>

            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    <script>

        $(document).ready(function() {
            var clipboard = new ClipboardJS('#copy-code');

            clipboard.on('success', function(e) {
                alert('Code copied to clipboard!');
                e.clearSelection();
            });

            clipboard.on('error', function(e) {
                alert('Failed to copy code to clipboard. Please copy manually.');
            });

            $('#analyzeBtn').click(function() {
                var userInputCode = $('#codeInput').val();
                
                if (userInputCode.trim() === '') {
                    alert('Please paste your code for analysis.');
                    return;
                }
                var mockAnalysis = `
                    <h5>Clear Labels and Prompts:</h5>
                    <p>Provide clear and concise labels for each input field, such as "Username" and "Password," to guide users on what information is expected.</p>
                    <h5>Placeholder Text:</h5>
                    <p>Use placeholder text within the input fields to give users additional guidance on what type of information should be entered. For example, a placeholder text within the "Password" field could suggest using a combination of letters, numbers, and special characters.</p>
                    <h5>Error Messages:</h5>
                    <p>Display helpful error messages if users enter incorrect information or leave fields blank. These messages should clearly explain the issue and provide guidance on how to correct it.</p>
                    <h5>Visual Cues:</h5>
                    <p>Incorporate visual cues, such as icons or color changes, to indicate when input fields are active or contain errors. This helps users understand the current state of the form and what actions they need to take.</p>
                    <h5>Progressive Disclosure:</h5>
                    <p>Break down the login process into smaller, manageable steps if necessary. For example, provide an option for users to recover their password or create a new account if they are unable to log in.</p>
                `;
                var impCode = `
                    <form id="loginForm">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" placeholder="Enter your username" required>
                        <div id="usernameError" class="error"></div>

                        <label for="password">Password:</label>
                        <input type="password" id="password" name="password" placeholder="Enter your password" required>
                        <div id="passwordError" class="error"></div>

                        <input type="submit" value="Login">
                    </form>
                `;
            
                $('#analysisOutput').html(mockAnalysis);
                $('#newCode').text(impCode);
            });
        });
        function switchToLogout() {
            var loginButton = document.getElementById('loginButton');
            var logoutButton = document.getElementById('logoutButton');

            loginButton.classList.add('hidden');
            logoutButton.classList.remove('hidden');

            logoutButton.addEventListener('click', function() {
                localStorage.removeItem('isLoggedIn');
                window.location.href = 'index.html';

                loginButton.classList.remove('hidden');
                logoutButton.classList.add('hidden');

                alert('You have successfully logged out.');
            });
        }

        function redirectToHome() {
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;

            var correctUsername = 'admin@gmu.edu';
            var correctPassword = 'admin123';

            if (username === correctUsername && password === correctPassword) {
                localStorage.setItem('isLoggedIn', 'true');
                switchToLogout();
                alert('Login successful!');
                togglePopup();
            } else {
                alert('Incorrect username or password.');
            }
        }

        function togglePopup() {
            var popup = document.getElementById('loginPopup');
            popup.classList.toggle('hidden');
        }
        var loginButton = document.getElementById('loginButton');
            if(loginButton) {
                loginButton.addEventListener('click', function() {
                    togglePopup();
                });
            }
        document.addEventListener('DOMContentLoaded', (event) => {
            const themeButton = document.querySelector("#theme-btn");
            if (themeButton) {
                themeButton.addEventListener("click", () => {
                    const isDarkMode = document.body.classList.toggle("dark-mode");
                    localStorage.setItem("themeColor", isDarkMode ? "dark_mode" : "light_mode");
                    themeButton.innerText = isDarkMode ? "light_mode" : "dark_mode";
                });
            } else {
                console.log('Theme button not found');
            }
        });
    </script>

<footer class="footer">
    <div class="container">
        <p>&copy; 2024 UI/UX Genie. All Rights Reserved.</p>
    </div>
</footer>
<script src="script.js"></script>
</body>
</html>
